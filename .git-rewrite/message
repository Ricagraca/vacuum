Working on resolver and ruleset defaults.

A resolver is going to be required to be functional, it's working, but needs more tests.
